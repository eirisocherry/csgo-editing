


//////////////////
//FFMPEG PRESETS//
//////////////////
mirv_streams settings add ffmpeg utAlpha "-c:v utvideo -pix_fmt rgba {QUOTE}{AFX_STREAM_PATH}_utALPHA.avi{QUOTE}";
mirv_streams settings add ffmpeg utTrue "-c:v utvideo -pix_fmt gbrp {QUOTE}{AFX_STREAM_PATH}_utTrue.avi{QUOTE}";
mirv_streams settings add ffmpeg utLossless "-c:v utvideo -pix_fmt yuv444p {QUOTE}{AFX_STREAM_PATH}_utLossless.avi{QUOTE}";
mirv_streams settings add ffmpeg utGood "-c:v utvideo -pix_fmt yuv422p {QUOTE}{AFX_STREAM_PATH}_utGood.avi{QUOTE}";
mirv_streams settings add ffmpeg prores "-c:v prores -profile:v 4 -pix_fmt yuva444p10le -vf setsar=1:1,scale=out_color_matrix=bt709 -color_primaries bt709 -color_trc bt709 -colorspace bt709 {QUOTE}{AFX_STREAM_PATH}_prores.mov{QUOTE}";
mirv_streams settings add ffmpeg lossless13 "-c:v libx264 -crf 1 -preset fast -tune fastdecode -level:v 5.2 -vf setsar=1:1,zscale=matrix=709,format=yuv420p -color_primaries bt709 -color_trc bt709 -colorspace bt709 -x264-params keyint=12:min-keyint=1:ref=1:bframes=0:qcomp=0.8:aq-strength=0.5:dct-decimate=0:fast-pskip=0:deblock=-2,-2 {QUOTE}{AFX_STREAM_PATH}_lossless.mp4{QUOTE}";
mirv_streams settings add ffmpeg good13 "-c:v libx264 -crf 10 -preset fast -tune fastdecode -level:v 5.2 -vf setsar=1:1,zscale=matrix=709,format=yuv420p -color_primaries bt709 -color_trc bt709 -colorspace bt709 -x264-params keyint=12:min-keyint=1:ref=1:bframes=0:qcomp=0.8:aq-strength=0.5:dct-decimate=0:fast-pskip=0:deblock=-2,-2 {QUOTE}{AFX_STREAM_PATH}_good.mp4{QUOTE}";
mirv_streams settings add ffmpeg lite13 "-c:v libx264 -crf 20 -preset fast -tune fastdecode -level:v 5.2 -vf setsar=1:1,zscale=matrix=709,format=yuv420p -color_primaries bt709 -color_trc bt709 -colorspace bt709 -x264-params keyint=12:min-keyint=1:ref=1:bframes=0:qcomp=0.8:aq-strength=0.5:dct-decimate=0:fast-pskip=0:deblock=-2,-2 {QUOTE}{AFX_STREAM_PATH}_lite.mp4{QUOTE}";

//blur preset
mirv_streams settings add sampler blur
mirv_streams settings edit blur strength 1
mirv_streams settings edit blur method rectangle
mirv_streams settings edit blur exposure 1

clear

echo ""
echo ""
echo "────────────────────────[FFMPEG-PRESETS]───────────────────────"
echo "Make sure you have installed ffmpeg, 'HLAE\ffmpeg' folder shouldn't be empty"
echo "View _core.cfg to adjust the recording settings for each layer"
echo ""
echo ""
echo "//UTVIDEO"
echo "Requirement: Ut Video Codec (videohelp.com/software/Ut-Video-Codec-Suite)"
echo "~"
echo "utalpha -> true lossless quality, supports an alpha channel (best choise if you wanna keep the original quality)"
echo "uttrue  -> true lossless quality (best choise if you wanna keep the original quality, especially on depth/normal maps)"
echo ""
echo ""
echo "//X264 (YUV420)"
echo "Issues:"
echo "1. Doesn't work with odd values resolutions (ex: 1920x815 = BAD; 1920x816 = GOOD)"
echo "2. Low contrast bug in vegas 18 and lower."
echo "To fix it adjust project settings (ignore ACES options if you don't have them):"
echo "'Pixel format: 32-bit (full range)'"
echo "'Compositing gamma: 2.222'"
echo "'ACES version: 1.0'"
echo "'ACES color space: Default'"
echo "'View transform: Off'."
echo "~"
echo "lossless -> good quality, big size"
echo "good     -> best balance"
echo "lite     -> medium quality, small size"
echo ""
echo ""
echo "//QUICKTIME (.mov)
echo "Requirement: Quicktime Codec (https://support.apple.com/en-us/106375)"
echo "Issue: low contrast bug in vegas 18 and lower. You can't fix it."
echo "~"
echo "prores -> supports an alpha channel (much smaller size compared to utalpha)"
echo ""
echo ""
echo "//BLUR"
echo "Info: it uses one of the codecs above"
echo "blur -> you should record in ~1000 fps to make a good motion blur, output video will be at 60 fps"
echo ""
echo ""
echo "//DEFAULT"
echo "afxClassic -> default screenshot recording"
echo ""
echo ""
echo "//WHAT TO CHOOSE?
echo "UTVIDEO = the best quality, but huge size"
echo "X264 = extremely small size, good quality, decent playback"
echo "QUICKTIME = alpha layers with a small size"
echo "───────────────────────────────────────────────────────────────"
echo ""
echo ""